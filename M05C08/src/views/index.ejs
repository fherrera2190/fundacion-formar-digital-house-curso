<!DOCTYPE html>
<html>

<head>
  <title>
    <%= title %>
  </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <style>
    body {
      background-color: <%=locals.userLogin? locals.userLogin.color:userBackground %>;
    }
  </style>
  <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<body class=" container vh-100 d-flex justify-content-center align-items-center">

  <% if (locals.userLogin) { %>
  <div class="d-flex flex-column  justify-content-center align-items-center bg-white p-5 border-1  rounded-4 " style="height: 300px;">
    <p class="fs-4"> Hola <%= locals.userLogin.name %> ,
      </br> elegiste el color: <%= locals.userLogin.color %> ,
      <br> tu email es:<%= locals.userLogin.email %>
      <% if (locals.userLogin.age) { %>
      <br> y tu edad es: <%= locals.userLogin.age %>
      <% } %>
    </p>
    <div class="justify-content-end">
      <a class="btn btn-success" href="/otraVista">Continuar</a>
    </div>
  </div>

  <% }else{ %><form class="border border-1 rounded-4 p-5 bg-light-subtle w-100 " style="max-width: 420px" action="/" method="post">
    <div class="mb-3">
      <label for="name" class="form-label">Ingrese su nombre</label>
      <input type="text" class="form-control <%=locals.errors &&(errors.name && 'is-invalid')%>" name="name" id="name" aria-describedby="emailHelp" value="<%= locals.old&&old.name%>">
      <small class="text-danger"><%=locals.errors && (errors.name&&errors.name.msg)%></small>
    </div>
    <div class=" mb-3">
      <label for="email" class="form-label">Ingrese su email</label>
      <input type="email" class="form-control <%=locals.errors &&(errors.email && 'is-invalid')%>" name="email" id="email" aria-describedby="emailHelp" value="<%= locals.old&&(old.email&&old.email)%>">
      <small class="text-danger"><%=locals.errors && (errors.email&&errors.email.msg)%></small>
    </div>
    <div class="mb-3">
      <label for="age" class="form-label">Ingrese su edad</label>
      <input type="number" class="form-control" name="age" id="age" value="<%= locals.old&&old.age%>">
      <small class="text-danger"><%=locals.errors && (errors.age&&errors.age.msg)%></small>
    </div>
    <div class="mt-3 d-flex flex-column ">
      <div class="d-flex align-items-center gap-4">
        <label for="color" class="form-label">Seleccionar Color</label>
        <input type="color" class="form-control form-control-color" name="color" id="color" value="#a9a9a9" title="Choose your color">
      </div>
      <small class="text-danger"><%=locals.errors && (errors.color&&errors.color.msg)%></small>
    </div>
    <div class="my-3 form-check d-flex align-items-center gap-2">
      <input type="checkbox" class="form-check-input" name="checkbox" id="checkbox">
      <label class="form-check-label" for="checkbox">Recordarme</label>
    </div>
    <div class="d-flex justify-content-center mt-5">
      <button type="submit" class="btn btn-primary px-5">Enviar</button>
    </div>
  </form>
  <% } %>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>

</html>